{"version":3,"file":"static/js/361.657e73bb.chunk.js","mappings":"oNAsKA,UA9JkB,WAEd,IAAMA,GAAWC,EAAAA,EAAAA,MACjBC,GAAwBC,EAAAA,EAAAA,UAAS,GAAEC,GAAAC,EAAAA,EAAAA,GAAAH,EAAA,GAA5BI,EAAIF,EAAA,GAAEG,EAAOH,EAAA,GAEpBI,GAAsBL,EAAAA,EAAAA,UAAS,IAAGM,GAAAJ,EAAAA,EAAAA,GAAAG,EAAA,GAA3BE,EAAGD,EAAA,GAAEE,EAAMF,EAAA,GAClBG,GAAsBT,EAAAA,EAAAA,UAAS,IAAGU,GAAAR,EAAAA,EAAAA,GAAAO,EAAA,GAA3BE,EAAGD,EAAA,GAAEE,EAAMF,EAAA,GAClBG,GAA0Bb,EAAAA,EAAAA,UAAS,IAAGc,GAAAZ,EAAAA,EAAAA,GAAAW,EAAA,GAA/BE,EAAKD,EAAA,GAAEE,EAAQF,EAAA,GACtBG,GAAwBjB,EAAAA,EAAAA,UAAS,IAAGkB,GAAAhB,EAAAA,EAAAA,GAAAe,EAAA,GAA7BE,EAAID,EAAA,GAAEE,EAAOF,EAAA,GAEpBG,GAAsDC,EAAAA,EAAAA,YAAWC,EAAAA,GAAzDC,EAAQH,EAARG,SAAUC,EAAWJ,EAAXI,YAAaC,EAAkBL,EAAlBK,mBAEzBC,EAAY,eAAAC,GAAAC,EAAAA,EAAAA,IAAAC,EAAAA,EAAAA,KAAAC,MAAG,SAAAC,EAAOC,GAAC,IAAAC,EAAAC,EAAAC,EAAA,OAAAN,EAAAA,EAAAA,KAAAO,MAAA,SAAAC,GAAA,cAAAA,EAAAC,KAAAD,EAAAE,MAAA,OAKC,GAJ1BP,EAAEQ,iBACEP,EAAM3B,EAAMI,EAAMI,EAAQI,EAG9BuB,QAAQC,IAAI,QAAST,KACjBA,EAAIU,OAAS,GAAC,CAAAN,EAAAE,KAAA,QAC4B,OAA1CK,EAAAA,EAAAA,IAAM,qCAAoCP,EAAAQ,OAAA,oBAI3B,IAAfZ,EAAIU,OAAY,CAAAN,EAAAE,KAAA,gBAAAF,EAAAC,KAAA,EAAAD,EAAAE,KAAA,GAEWO,EAAAA,EAAIC,KAAK,aAAc,CAAEC,OAAQzB,EAASyB,OAAQf,IAAAA,IAAM,QAAAC,EAAAG,EAAAY,KAAvEd,EAAID,EAAJC,KACRM,QAAQC,IAAI,SAAUP,GACtBe,aAAaC,QAAQ,0BAA0B,GAADC,OAAK7B,EAASyB,OAAM,mBAClEJ,EAAAA,EAAAA,IAAM,GAADQ,OAAIjB,EAAKkB,UACdH,aAAaC,QAAQ,gBAAiBhB,EAAKmB,OAC3CR,EAAAA,EAAIS,SAASC,QAAQC,OAAsB,cAAC,UAAAL,OAAajB,EAAKmB,OAE9DI,YAAW,WACK,OAARnC,QAAQ,IAARA,GAAAA,EAAUrB,OACVsB,IACAC,GAAmB,GACnB7B,EAAS,6BAEb,IAAM+D,EAAOT,aAAaU,QAAQ,QAE9BD,EACAb,EAAAA,EAAIC,KAAK,mBAAoB,CAAEY,KAAAA,IAC1BE,MAAK,SAAAC,GACFZ,aAAaa,WAAW,QACxBvC,IACAC,GAAmB,GACnBuC,OAAOC,SAASC,KAAOJ,EAAS3B,KAAKgC,IACrC1B,QAAQC,IAAI,YAAaoB,EAAS3B,KACtC,IACCiC,OAAM,SAAAC,GACH5B,QAAQ4B,MAAM,SAAUA,EAAMhB,QAClC,KAEJ7B,IACAC,GAAmB,GACnB7B,EAAS,4BAEjB,GAAG,KAAMyC,EAAAE,KAAA,iBAAAF,EAAAC,KAAA,GAAAD,EAAAiC,GAAAjC,EAAA,SAETI,QAAQC,IAAI,UAASL,EAAAiC,KACrB1B,EAAAA,EAAAA,IAAM,kCAAiC,yBAAAP,EAAAkC,OAAA,GAAAxC,EAAA,mBAGlD,gBAnDiByC,GAAA,OAAA7C,EAAA8C,MAAA,KAAAC,UAAA,KAqDZC,EAAS,eAAAC,GAAAhD,EAAAA,EAAAA,IAAAC,EAAAA,EAAAA,KAAAC,MAAG,SAAA+C,EAAO7C,GAAC,IAAA8C,EAAA3C,EAAA,OAAAN,EAAAA,EAAAA,KAAAO,MAAA,SAAA2C,GAAA,cAAAA,EAAAzC,KAAAyC,EAAAxC,MAAA,OAGsB,OAFxCP,GAAGA,EAAEQ,iBAAiBuC,EAAAzC,KAAA,EAEtBG,QAAQC,IAAI,iBAAkBnB,GAAUwD,EAAAxC,KAAA,EACjBO,EAAAA,EAAIC,KAAK,8BAA4BiC,EAAAA,EAAAA,GAAA,GAAOzD,IAAW,OAAAuD,EAAAC,EAAA9B,KAAtEd,EAAI2C,EAAJ3C,MACRS,EAAAA,EAAAA,IAAM,wBACNH,QAAQC,IAAI,aAAcP,GAAM4C,EAAAxC,KAAA,iBAAAwC,EAAAzC,KAAA,GAAAyC,EAAAT,GAAAS,EAAA,SAEhCtC,QAAQC,IAAI,UAASqC,EAAAT,KACrB1B,EAAAA,EAAAA,IAAM,8BAA6B,yBAAAmC,EAAAR,OAAA,GAAAM,EAAA,mBAG1C,gBAZcI,GAAA,OAAAL,EAAAH,MAAA,KAAAC,UAAA,KAeTQ,EAAY,SAACC,EAAOC,GACD,IAAjBD,EAAMxC,QACNyC,EAAGD,EAEX,EAQA,OAPAE,EAAAA,EAAAA,YAAU,WACO,OAAR9D,QAAQ,IAARA,GAAAA,EAAUrB,MAAmB,IAATA,IACrByE,IACAxE,GAAQ,SAAAmC,GAAI,OAAIA,EAAO,CAAC,IAEhC,GAAG,KAICgD,EAAAA,EAAAA,KAAA,OAAKC,MAAM,sFAAqFC,UAC5FF,EAAAA,EAAAA,KAAA,OAAKC,MAAM,kFAAiFC,UACxFC,EAAAA,EAAAA,MAAA,OAAKF,MAAM,mDAAkDC,SAAA,EACzDC,EAAAA,EAAAA,MAAA,OAAKF,MAAM,kEAAiEC,SAAA,EACxEF,EAAAA,EAAAA,KAAA,OAAKC,MAAM,yBAAwBC,UAC/BF,EAAAA,EAAAA,KAAA,KAAAE,SAAG,sBAEPF,EAAAA,EAAAA,KAAA,OAAKC,MAAM,kDAAiDC,UACxDC,EAAAA,EAAAA,MAAA,KAAAD,SAAA,CAAG,qCAA2C,OAARjE,QAAQ,IAARA,OAAQ,EAARA,EAAUmE,eAIxDJ,EAAAA,EAAAA,KAAA,OAAAE,UACIF,EAAAA,EAAAA,KAAA,QAAMK,OAAO,GAAGC,OAAO,OAAMJ,UACzBC,EAAAA,EAAAA,MAAA,OAAKF,MAAM,2BAA0BC,SAAA,EACjCC,EAAAA,EAAAA,MAAA,OAAKF,MAAM,qEAAoEC,SAAA,EAC3EF,EAAAA,EAAAA,KAAA,OAAKC,MAAM,aAAYC,UACnBF,EAAAA,EAAAA,KAAA,SAAOC,MAAM,uLAAuLM,KAAK,OAAOC,KAAK,GAAGC,GAAG,GACvNZ,MAAO7E,EACP0F,SAAU,SAAChE,GAAC,OAAKkD,EAAUlD,EAAEiE,OAAOd,MAAO5E,EAAO,OAG1D+E,EAAAA,EAAAA,KAAA,OAAKC,MAAM,aAAYC,UACnBF,EAAAA,EAAAA,KAAA,SAAOC,MAAM,uLAAuLM,KAAK,OAAOC,KAAK,GAAGC,GAAG,GACvNZ,MAAOzE,EACPsF,SAAU,SAAAhE,GAAC,OAAIkD,EAAUlD,EAAEiE,OAAOd,MAAOxE,EAAO,OAGxD2E,EAAAA,EAAAA,KAAA,OAAKC,MAAM,aAAYC,UACnBF,EAAAA,EAAAA,KAAA,SAAOC,MAAM,uLAAuLM,KAAK,OAAOC,KAAK,GAAGC,GAAG,GACvNZ,MAAOrE,EACPkF,SAAU,SAAAhE,GAAC,OAAIkD,EAAUlD,EAAEiE,OAAOd,MAAOpE,EAAS,OAG1DuE,EAAAA,EAAAA,KAAA,OAAKC,MAAM,aAAYC,UACnBF,EAAAA,EAAAA,KAAA,SAAOC,MAAM,uLAAuLM,KAAK,OAAOC,KAAK,GAAGC,GAAG,GACvNZ,MAAOjE,EACP8E,SAAU,SAAAhE,GAAC,OAAIkD,EAAUlD,EAAEiE,OAAOd,MAAOhE,EAAQ,UAK7DsE,EAAAA,EAAAA,MAAA,OAAKF,MAAM,0BAAyBC,SAAA,EAChCF,EAAAA,EAAAA,KAAA,OAAAE,UACIF,EAAAA,EAAAA,KAAA,UAAQY,QAASxE,EAAc6D,MAAM,wJAAuJC,SAAC,cAKjMC,EAAAA,EAAAA,MAAA,OAAKF,MAAM,oGAAmGC,SAAA,EAC1GF,EAAAA,EAAAA,KAAA,KAAAE,SAAG,0BACHF,EAAAA,EAAAA,KAAA,OAAKC,MAAM,0DAA0DW,QAASvB,EAAUa,SAAC,8BAWjI,C","sources":["components/OTP/VerifyOTP.jsx"],"sourcesContent":["import React, { useEffect } from 'react'\nimport { useContext } from 'react';\nimport { useState } from 'react';\nimport { UserContext } from '../../context/UserContext';\nimport { toast } from 'react-toastify';\nimport api from '../../util/api';\nimport { useNavigate } from 'react-router-dom';\n\nconst VerifyOTP = () => {\n\n    const navigate = useNavigate();\n    const [send, setSend] = useState(1);\n\n    const [one, setOne] = useState('')\n    const [two, setTwo] = useState('')\n    const [three, setThree] = useState('')\n    const [four, setFour] = useState('')\n\n    const { tempUser, getUserData, setIsAuthenticated } = useContext(UserContext)\n\n    const handleSubmit = async (e) => {\n        e.preventDefault();\n        let otp = one + two + three + four;\n\n\n        console.log('OTP: ', otp);\n        if (otp.length < 4) {\n            toast('OTP is not Valid. Enter Valid OTP')\n            return;\n        }\n\n        if (otp.length === 4) {\n            try {\n                const { data } = await api.post('/verifyOTP', { userId: tempUser.userId, otp })\n                console.log('data: ', data);\n                localStorage.setItem('teachai_verified_device', `${tempUser.userId}-verifyDevice`)\n                toast(`${data.message}`)\n                localStorage.setItem(\"teachai_token\", data.token)\n                api.defaults.headers.common['Authorization'] = `Bearer ${data.token}`;\n                \n                setTimeout(() => {\n                    if (tempUser?.send) {\n                        getUserData();\n                        setIsAuthenticated(true)\n                        navigate('/user/dashboard/chatbots')\n                    }\n                    const plan = localStorage.getItem(\"plan\");\n\n                    if (plan) {\n                        api.post('/payment/process', { plan })\n                            .then(response => {\n                                localStorage.removeItem('plan')\n                                getUserData();\n                                setIsAuthenticated(true)\n                                window.location.href = response.data.url\n                                console.log('Response:', response.data);\n                            })\n                            .catch(error => {\n                                console.error('Error:', error.message);\n                            });\n                    } else {\n                        getUserData();\n                        setIsAuthenticated(true)\n                        navigate('/user/dashboard/chatbots')\n                    }\n                }, 3000);\n            } catch (error) {\n                console.log('Error: ', error);\n                toast('Error While Verifying the OTP!')\n            }\n        }\n    }\n\n    const resendOTP = async (e) => {\n        if (e) e.preventDefault();\n        try {\n            console.log('sending Data: ', tempUser);\n            const { data } = await api.post('/resendOTPVerificationCode', { ...tempUser })\n            toast(`OTP has been Sended!`)\n            console.log('Response: ', data);\n        } catch (error) {\n            console.log('Error: ', error);\n            toast(\"Error While Resending OTP!\")\n        }\n\n    }\n\n\n    const handleOTP = (value, fn) => {\n        if (value.length === 1) {\n            fn(value)\n        }\n    }\n    useEffect(() => {\n        if ((tempUser?.send) && (send === 1)) {\n            resendOTP()\n            setSend(prev => prev + 1)\n        }\n    }, [])\n\n    return (\n        // <div className=' max-w-[1640px] mx-auto min-h-screen flex justify-center items-center'>\n        <div class=\"relative flex min-h-screen flex-col justify-center overflow-hidden bg-gray-50 py-12\">\n            <div class=\"relative bg-white px-6 pt-10 pb-9 shadow-xl mx-auto w-full max-w-lg rounded-2xl\">\n                <div class=\"mx-auto flex w-full max-w-md flex-col space-y-16\">\n                    <div class=\"flex flex-col items-center justify-center text-center space-y-2\">\n                        <div class=\"font-semibold text-3xl\">\n                            <p>Enter OTP Code</p>\n                        </div>\n                        <div class=\"flex flex-row text-sm font-medium text-gray-400\">\n                            <p>We have sent a code to your email {tempUser?.email}</p>\n                        </div>\n                    </div>\n\n                    <div>\n                        <form action=\"\" method=\"post\">\n                            <div class=\"flex flex-col space-y-16\">\n                                <div class=\"flex flex-row items-center justify-between mx-auto w-full max-w-xs\">\n                                    <div class=\"w-16 h-16 \">\n                                        <input class=\"w-full h-full flex flex-col items-center justify-center text-center px-5 outline-none rounded-xl border border-gray-200 text-lg bg-white focus:bg-gray-50 focus:ring-1 ring-blue-700\" type=\"text\" name=\"\" id=\"\"\n                                            value={one}\n                                            onChange={(e) => handleOTP(e.target.value, setOne)}\n                                        />\n                                    </div>\n                                    <div class=\"w-16 h-16 \">\n                                        <input class=\"w-full h-full flex flex-col items-center justify-center text-center px-5 outline-none rounded-xl border border-gray-200 text-lg bg-white focus:bg-gray-50 focus:ring-1 ring-blue-700\" type=\"text\" name=\"\" id=\"\"\n                                            value={two}\n                                            onChange={e => handleOTP(e.target.value, setTwo)}\n                                        />\n                                    </div>\n                                    <div class=\"w-16 h-16 \">\n                                        <input class=\"w-full h-full flex flex-col items-center justify-center text-center px-5 outline-none rounded-xl border border-gray-200 text-lg bg-white focus:bg-gray-50 focus:ring-1 ring-blue-700\" type=\"text\" name=\"\" id=\"\"\n                                            value={three}\n                                            onChange={e => handleOTP(e.target.value, setThree)}\n                                        />\n                                    </div>\n                                    <div class=\"w-16 h-16 \">\n                                        <input class=\"w-full h-full flex flex-col items-center justify-center text-center px-5 outline-none rounded-xl border border-gray-200 text-lg bg-white focus:bg-gray-50 focus:ring-1 ring-blue-700\" type=\"text\" name=\"\" id=\"\"\n                                            value={four}\n                                            onChange={e => handleOTP(e.target.value, setFour)}\n                                        />\n                                    </div>\n                                </div>\n\n                                <div class=\"flex flex-col space-y-5\">\n                                    <div>\n                                        <button onClick={handleSubmit} class=\"flex flex-row items-center justify-center text-center w-full border rounded-xl outline-none py-5 bg-blue-700 border-none text-white text-sm shadow-sm\">\n                                            Submit\n                                        </button>\n                                    </div>\n\n                                    <div class=\"flex flex-row items-center justify-center text-center text-sm font-medium space-x-1 text-gray-500\">\n                                        <p>Didn't recieve code?</p>\n                                        <div class=\"flex flex-row items-center text-blue-600 cursor-pointer\" onClick={resendOTP}>Resend</div>\n                                    </div>\n                                </div>\n                            </div>\n                        </form>\n                    </div>\n                </div>\n            </div>\n        </div>\n        // </div>\n    )\n}\n\nexport default VerifyOTP"],"names":["navigate","useNavigate","_useState","useState","_useState2","_slicedToArray","send","setSend","_useState3","_useState4","one","setOne","_useState5","_useState6","two","setTwo","_useState7","_useState8","three","setThree","_useState9","_useState10","four","setFour","_useContext","useContext","UserContext","tempUser","getUserData","setIsAuthenticated","handleSubmit","_ref","_asyncToGenerator","_regeneratorRuntime","mark","_callee","e","otp","_yield$api$post","data","wrap","_context","prev","next","preventDefault","console","log","length","toast","abrupt","api","post","userId","sent","localStorage","setItem","concat","message","token","defaults","headers","common","setTimeout","plan","getItem","then","response","removeItem","window","location","href","url","catch","error","t0","stop","_x","apply","arguments","resendOTP","_ref2","_callee2","_yield$api$post2","_context2","_objectSpread","_x2","handleOTP","value","fn","useEffect","_jsx","class","children","_jsxs","email","action","method","type","name","id","onChange","target","onClick"],"sourceRoot":""}